<!DOCTYPE html>
<html>

  <head>
    <title>Canvas Clipping with Fabric.js</title>
    <!-- <SCRIPT SRC="../../../COMM/JS/FABRIC_S.JS"></SCRIPT> -->
    <script src="../../../COMM/JS/DATA.JSON"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.3.1/fabric.min.js"></script>
  </head>

  <body>
    <canvas id="canvas" width="400" height="400"></canvas>

    <script>
            const word = "1_1";
            let mydata = JSON.parse(JSON.stringify(data));
            let wordData = mydata[word];
            let wordUrl = wordData.url;
      
            // 캔버스 요소 가져오기
            var canvas = new fabric.Canvas('canvas',
            { isDrawingMode: true }
            );
            canvas.freeDrawingBrush.color = 'red'


            // 이미지 생성 및 캔버스에 추가
            fabric.Image.fromURL(wordUrl, function (img) {
                // 이미지 크기 및 위치 설정
                img.set({ left: 100, top: 100, width: 200, height: 200 });

                // 클립 영역 생성
                var clipRect = new fabric.Rect({
                    left: 150,
                    top: 150,
                    width: 100,
                    height: 100,
                    fill: 'transparent',
                    stroke: 'transparent',
                    strokeWidth: 0
                });

                // 이미지를 클립 영역으로 설정
                img.set({ clipPath: clipRect });

                // 이미지 로드 완료 이벤트 처리
               canvas.add(img);
                canvas.renderAll();

                // 이미지 로드 시작
                // img.loadFromURL('../../COMM/IMG/WORD/1_1/WORD_1_1_1.PNG');
            });

        

    </script>
  </body>

</html>