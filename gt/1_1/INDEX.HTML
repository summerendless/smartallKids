<html>

<head>
    <title>스마트올 키즈</title>

    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <!-- 검색 엔진에 의해 검색되는 단어를 지정합니다. -->
    <meta name="KeyWORDs" content="" />
    <!-- 검색 결과에 표시되는 문자를 지정합니다. -->
    <meta name="Description" content="" />
    <!-- 검색 로봇 제어 -->
    <meta name="Robots" content="all" />
    <!-- 홈페이지 주제를 지정 -->
    <meta http-equiv="Subject" content="" />
    <!-- 제목을 지정 -->
    <meta http-equiv="Title" content="" />
    <!-- 페이지를 작성한 제작자명을 지정 -->
    <meta http-equiv="Author" content="onflou " />
    <!-- 제작사를 지정 -->
    <meta http-equiv="Publisher" content="" />

    <!-- 브라우저 호환성을 지정 -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chorme=1">
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" href="../../../COMM/CSS/COMMON.CSS" />
    <link rel="stylesheet" href="../../../COMM/CSS/JQUERY_UI.CSS" />
    <link rel="stylesheet" href="../../../COMM/CSS/STYLE.CSS" />
</head>

<body>
    <div id="wrap" class="">
        <header>
            <div class="indicate">
                <ul class="paging">
                    <li class="page off"><img src="../../COMM/IMG/ICON_CANDY_OFF.PNG"/></li>
                    <li class="page off"><img src="../../COMM/IMG/ICON_CANDY_OFF.PNG"/></li>
                    <li class="page off"><img src="../../COMM/IMG/ICON_CANDY_OFF.PNG"/></li>
                    <li class="page off"><img src="../../COMM/IMG/ICON_CANDY_OFF.PNG"/></li>
                </ul>
            </div>
        </header>

        <div class="wrapper ">
            <div class="zoomInner">
                <section class="section section1">
                    <div class="pageContents">
                        <div id="canvasContainer">                           
                            <canvas id="canvas" class="canvas" width="600" height="600" style="border:solid 3px #CCC;"></canvas>
                        </div>
                    </div>
                    <div class="controls">
                        <!--붓의 크기-->
                        <div class="controls__range">
                            <input type="range" id="jsRange" min="0.1" max="5.0" step="0.1" />
                        </div>
                        <!--채우기, 저장 버튼-->
                        <!-- <div class="controls__btns">
                            <button id="jsMode">Fill</button>
                            <button id="jsSave">Save</button>
                        </div> -->
                        <!--색상 버튼-->
                        <div class="color-palette">
                            <div class="controls__colors color-items" id="jsColors">
                                <div class="controls__color color-option color-red jsColor" ><img src="../../COMM/IMG/CRAYON_BV.PNG" data-color="#ff0000" alt="랜덤" /></div>
                                <div class="controls__color color-option color-red jsColor" ><img src="../../COMM/IMG/CRAYON_RD.PNG" data-color="#ff0000" alt="빨강" /></div>
                                <div class="controls__color color-option color-orange jsColor" ><img src="../../COMM/IMG/CRAYON_OR.png" data-color="#ff8c00" alt="주황" /></div>
                                <div class="controls__color color-option color-yellow jsColor" ><img src="../../COMM/IMG/CRAYON_YL.png" data-color="#ffff00" alt="노랑" /></div>
                                <div class="controls__color color-option color-green jsColor" ><img src="../../COMM/IMG/CRAYON_GN.png" data-color="#008000" alt="초록" /></div>
                                <div class="controls__color color-option color-blue jsColor" ><img src="../../COMM/IMG/CRAYON_BL.PNG" data-color="#0000ff" alt="파랑" /></div>
                                <div class="controls__color color-option color-purple jsColor" ><img src="../../COMM/IMG/CRAYON_PR.png" data-color="#800080" alt="보라" /></div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="next-btn"> <img src="../../../COMM/IMG/BTN_NEXT_UN.PNG" alt=""> </button>
                    <!-- <button class="done-btn active"> <img src="../../../COMM/IMG/BTN_DONE.PNG" alt=""> </button> -->
                </section>
                <!-- //section1 -->
                
                <section class="section section2">
                    <div class="pageContents">
                        <div class="answer answer11" data-answer=00></div>
                        <div class="answer answer12" data-answer=01></div>
                        <div class="answer answer13" data-answer=02></div>
                        <div class="answer answer14" data-answer=03></div>
                        <img src="../../../COMM/IMG/WORD/1_1/ITEM_1_1.PNG" alt="">
                    </div>
                </section>
                <!-- //section2 -->
            </div>
        </div>
        <!-- <div id="wordWrap"></div> -->
    </div>
    <!-- wrap -->

<SCRIPT SRC="../../../COMM/JS/JQUERY-3.5.1.MIN.JS"></SCRIPT>
<!-- <SCRIPT SRC="../../../COMM/JS/JQUERY_UI.MIN.JS"></SCRIPT> -->
<!-- <SCRIPT SRC="../../../COMM/JS/COMMON.JS"></SCRIPT> -->
<!-- <SCRIPT SRC="../../../COMM/JS/TOUCH.JS"></SCRIPT> -->
<SCRIPT SRC="../../../COMM/JS/FABRIC_S.JS"></SCRIPT>
<script src="../../../COMM/JS/guidelines.js"></script>
<script src="../../../COMM/JS/DATA.JSON"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.4.5/fabric.min.js"></script> -->

<!-- <SCRIPT SRC="../../../COMM/JS/CONTROLS.JS"></SCRIPT> -->
<script>
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // **개발시 참고
    // 시작 세팅
    // phoneData 값 호출로 json parsing
    const word = "1_1";
    let mydata = JSON.parse(JSON.stringify(data));
    let wordData = mydata[word];
    let wordUrl = wordData.url;

    console.log(wordUrl)
    // let _fabricConfig = {
    //     // ....
    //     crossOrigin:'anonymous'
    // };
    
    // const canvas = this.__canvas = new fabric.Canvas(
    //     // 'canvas',
    //     'canvas', 
    //     // _fabricConfig
    // );

    const canvas = new fabric.Canvas(
    'canvas', 
    { isDrawingMode: true }
    );
    canvas.freeDrawingBrush.color = 'red'

    // var filter = new fabric.Image.filters.Blend({
    // color: '#000',
    // mode: 'multiply'
    // });

    // var filter = new fabric.Image.filters.Blend({
    // image: fabricImageObject,
    // mode: 'multiply',
    // alpha: 0.5
    // });
    // object.filters.push(filter);
    // object.applyFilters(canvas.renderAll.bind(canvas));

    const circle = new fabric.Image.fromURL(wordUrl, function(objects, options) {
        console.log(wordUrl)
        // img.set({
        //     width : canvas.width / 2,
        //     height : canvas.height / 2
        // });
        // background = objects;
        // let objW = objects.width + 36;
        // let objH = objects.height + 36;
        // ratio = objects.width / objects.height  ;
        // background.set({
        //     originX: 'center',
        //     originY: 'center',
        //     selectable: false,
        //     preserveObjectStacking:false,
        //     centeredScaling: false ,
        //     defaultCursor:'default',
        //     moveCursor: 'default',
        // });
        // canvas.add(background);
        // canvas.centerObject(background);
        // canvas.renderAll();

        // // clipingRect.set('width', objW).set('height', objH);
        // // canvas.centerObject(clipingRect);

        // var canvasWidth = $(window).width();
        // var canvasHeight = $(window).height();
        // canvas.zoomToPoint(new fabric.Point(canvas.width / 2, canvas.height / 2), zoomLevel);    
        // canvas.add(wordUrl).renderAll().setActiveObject(wordUrl);
    });

    canvas.clipTo = function (ctx) {
        ctx.arc(
        circle.top + circle.radius, 
        circle.left + circle.radius, 
        circle.radius + 1, // +1px for the circle stroke
        circle.radius + 1, 
        Math.PI*2, 
        true
        )
    }

    canvas.add(circle);
    // canvas.add(circle);
    // const circle = new fabric.Image.fromURL(wordUrl, function(img) {
    //     img.set({
    //         id : 'image_'+index,
    //         width : canvas.width / 2,
    //         height : canvas.height / 2
    //     });
    //     canvas.add(img).renderAll().setActiveObject(img);
    // });
</script>
</body>

</html>